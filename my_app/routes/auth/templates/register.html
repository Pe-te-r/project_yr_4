{% extends "base.html" %}

{% block title %}Account Creation - SHA Kenya{% endblock %}

{% block content %}
<!-- NAVBAR -->
<nav class="navbar navbar-expand-md pe-5 fixed-top navbar-dark bg-success">
  <a href="#" class="navbar-brand"><img src="{{ url_for('static', filename='images/sha_logo.svg') }}" alt="" style="height: 40px;"></a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
      <li class="nav-item">
          <button class="btn btn-success btn-sm"><a class="nav-link" href="{{ url_for('home.home') }}">Home</a></button>
      </li>
      <li class="nav-item">
          <button class="btn btn-success btn-sm"><a class="nav-link" href="{{ url_for('chat.chat') }}">About</a></button>
      </li>
      <li class="nav-item">
          <button class="btn btn-success btn-sm"><a class="nav-link" href="{{ url_for('about.about') }}">Application</a></button>
      </li>

      <li class="nav-item">
        <button class="btn btn-success btn-sm"><a class="nav-link" href="{{ url_for('auth.login') }}">Login</a></button>
      </li>
    </ul>
  </div>
</nav>

<!-- REGISTRATION FORM -->
<div class="container-fluid pt-4 mt-5">
  <div class="container text-end">
    <div class="col"><a href="#"><img src="{{ url_for('static', filename='images/afya-removebg-preview.png') }}" alt="" style="height: 40px;"></a></div> 
  </div>
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-lg-6 p-5 rounded shadow">
        <h3 class="text-center"><strong>Register to Create Account with Afyangu</strong></h3>
        <h6 class="text-muted text-center">Enter your details below to be authenticated</h6>
        <h6 class="text-muted mt-3">Verify with an OTP code</h6>

       <!-- Form -->
        <form method="POST" action="{{ url_for('auth.register') }}" class="register" novalidate>
          {{ form.hidden_tag() }}
          <div class="form-group mt-3">
            {{ form.id_type.label(class="form-label") }}
            {{ form.id_type(class="form-control" + (" is-invalid" if form.id_type.errors else "")) }}
            {% for error in form.id_type.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="form-group mt-3">
            {{ form.id_number.label(class="form-label") }}
            {{ form.id_number(class="form-control" + (" is-invalid" if form.id_number.errors else "")) }}
            {% for error in form.id_number.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="form-group mt-3">
            {{ form.full_name.label(class="form-label") }}
            {{ form.full_name(class="form-control" + (" is-invalid" if form.full_name.errors else "")) }}
            {% for error in form.full_name.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="form-group mt-3">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control" + (" is-invalid" if form.email.errors else "")) }}
            {% for error in form.email.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="form-group mt-3">
            {{ form.phone_number.label(class="form-label") }}
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <span class="input-group-text">+254<img src="{{ url_for('static', filename='images/flag.jpg') }}" alt="Flag" style="width: 20px;"></span>
              </div>
              {{ form.phone_number(class="form-control" + (" is-invalid" if form.phone_number.errors else "")) }}
            </div>
            {% for error in form.phone_number.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="form-group mt-3">
            {{ form.password.label(class="form-label") }}
            {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else "")) }}
            {% for error in form.password.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          </div>
          <p class="mt-4"><small class="form-text text-muted"><strong>A verification code will be sent to the provided email for authentication.</strong></small></p>
          <div class="d-grid">
            {{ form.submit(class="btn btn-primary btn-block py-2 px-5 mt-5") }}
          </div>
        </form>
        <p class="mt-3">Do you have an account? <a href="{{ url_for('auth.login') }}" class="text-info">Sign In</a></p>
      </div>
    </div>
  </div>
</div>
{% endblock %}